# ===================================================================
# MOL-DORM 聚合启动模块全局配置
# ===================================================================
server:
  port: 9090 # 聚合启动时，通常占用一个端口

spring:
  application:
    name: mol-launcher

  # 核心修复：显式导入公共数据库配置
  config:
    import:
      - optional:classpath:/common-base.yml

  main:
    # 允许 Bean 定义覆盖 (多模块聚合启动时，防止重名的 Bean 导致冲突)
    allow-bean-definition-overriding: true
    # 禁用 Spring Boot 默认的 Banner 打印，防止控制台字符画重叠太乱
    banner-mode: console

  jmx:
    # 核心配置：禁用 JMX 监控
    # 原因：多个 Spring Context 在同一个 JVM 运行时，如果都开启 JMX 会报 MBean 已存在的错误
    enabled: false

  # 基础日志配置，统一管理聚合后的输出
  output:
    ansi:
      enabled: always

# 日志级别控制
logging:
  level:
    root: INFO
    com.mol: INFO
    # 如果想看 SQL，可以开启此项
    com.mol.**.mapper: DEBUG

# ===================================================================
# 聚合模块提示：
# 各个子模块的具体端口（9000, 8080, 8081）和数据库连接
# 依然会读取各自模块内的 application-auth.yml 及其引用的 common-base.yml
# ===================================================================